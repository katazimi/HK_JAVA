<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hk.daos">
  <select id="idcheck" resultType="String">
    SELECT id FROM userinfo WHERE id=#{id} 
  </select>
  
  <select id="getlogin" resultType="UserDto">
  	SELECT id, password, role  FROM userinfo WHERE id=#{id} AND enabled='Y'
  </select>
  
  <select id="getuser" resultType="UserDto">
  	SELECT seq,id,name,address,email,role,regdate FROM userinfo WHERE id=#{id}
  </select>
  
  <insert id="insertuser" parameterType="UserDto">
  	INSERT INTO userinfo 
  	VALUES(NULL,#{id},#{name},#{password},#{address},#{email},'Y','ADMIN',SYSDATE())
  </insert>
  
  <update id="updateuser" parameterType="UserDto">
  	String sql = "UPDATE userinfo SET address=?, email=? WHERE id=?";
  </update>
  
  <update id="deluser" parameterType="String">
  	String sql = "UPDATE userinfo SET address=?, email=? WHERE id=?";
  </update>
</mapper>